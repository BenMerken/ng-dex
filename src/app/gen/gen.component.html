<main class="gen" [@routeAnimations]="getRouteAnimationData()">
	@if (loading()) {
		<p>Loading dex for gen {{ genNumber() }}...</p>
	} @else {
		<dex-filter (filterChange)="onPokemonFilterChange($event)" />
		<div class="list-and-detail">
			@if (pokemons().length > 0) {
				<ul class="dex-list">
					@for (pokemon of pokemons(); track pokemon.name) {
						<!-- Deferred view, because fetching every pokemon with SSR slows down app considerably -->
						@defer (on viewport) {
							<dex-entry [pokemon]="pokemon" />
						} @placeholder (minimum 500ms) {
							<div class="entry-placeholder">
								<div class="image-placeholder"></div>
								<div></div>
							</div>
						}
					}
				</ul>
			} @else {
				<p>
					No Pok√©mon found for filters name="{{ pokemonsFilters()?.name }}" and types="{{
						typesFilterString()
					}}".
				</p>
			}
			<router-outlet></router-outlet>
		</div>
	}
</main>
